@baseUrl = https://api.noth-dev.meanite.tk
@apiVersion = v1

######################################
# AUTH API
######################################

### USERNAME AUTH
# @name usernameAuth
POST {{baseUrl}}/{{apiVersion}}/auth/username HTTP/1.1

{
    "email": "jdoe@foo"
}

### GET TOKEN
# @name getToken
POST {{baseUrl}}/{{apiVersion}}/auth/token HTTP/1.1

######################################
# USERS API
######################################

### GET ALL USERS
@token = {{getToken.response.body.access_token}}
# @name getAllUsers
GET {{baseUrl}}/{{apiVersion}}/users HTTP/1.1
Authorization: Bearer {{token}}

### GET USER BY ID
@token = {{getToken.response.body.access_token}}
# @name getUserByID
@userId = 2
GET {{baseUrl}}/{{apiVersion}}/users/{{userId}} HTTP/1.1
Authorization: Bearer {{token}}

### CREATE USER
# @name createUser
POST {{baseUrl}}/{{apiVersion}}/users HTTP/1.1

{
    "username": "jdoe@foo",
    "email": "jdoe@foo",
    "firstname": "John",
    "lastname": "Doe",
    "phone": 33612345678
}

### DELETE USER BY ID
# @name deleteUserByID
@userId = 2
DELETE {{baseUrl}}/{{apiVersion}}/users/{{userId}} HTTP/1.1